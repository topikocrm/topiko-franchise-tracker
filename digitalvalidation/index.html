<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Validation - Discover Your Perfect Business Solution</title>
    <link rel="icon" type="image/png" href="/favicon.png">
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="/digitalvalidation/assets/css/styles.css">
    
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <!-- Progress Bar -->
    <div class="progress-bar">
        <div class="progress-container">
            <div class="progress-steps">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <span class="step-label">About You</span>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <span class="step-label">Current State</span>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <span class="step-label">Goals</span>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <span class="step-label">Details</span>
                </div>
                <div class="step" data-step="5">
                    <div class="step-number">5</div>
                    <span class="step-label">Contact</span>
                </div>
            </div>
            <div class="progress-line">
                <div class="progress-fill" id="progressFill"></div>
            </div>
        </div>
    </div>

    <!-- Main Layout -->
    <div class="main-layout">
        <!-- Left: Form Content -->
        <div class="content-area">
            <!-- Single Question Container -->
            <div class="question-container">
                <div class="chat-bubble">
                    <div class="chat-text" id="chatMessage">üëã Hi! I'm your digital consultant. Let's discover the perfect solution for your business. What's your name?</div>
                </div>
                
                <div class="form-card">
                    <div class="question-content" id="questionContent">
                        <!-- Questions will be dynamically loaded here -->
                    </div>
                    
                    <div class="button-group">
                        <button class="btn btn-secondary" id="backBtn" style="display: none;" onclick="previousQuestion()">
                            ‚Üê Back
                        </button>
                        <button class="btn btn-primary" id="nextBtn" disabled onclick="nextQuestion()">
                            Continue ‚Üí
                        </button>
                    </div>
                </div>
            </div>

            <!-- Results Screen (hidden initially) -->
            <div class="results-container" id="resultsContainer" style="display: none;">
                <!-- Results will be dynamically generated -->
            </div>
        </div>

        <!-- Right: Profile Building (Desktop Only) -->
        <div class="profile-panel">
            <div class="profile-header">
                <div class="profile-avatar" id="profileAvatar">?</div>
                <div class="profile-info">
                    <div class="profile-name" id="profileName">Getting to know you...</div>
                    <div class="profile-status" id="profileStatus">Complete the questions</div>
                </div>
            </div>
            
            <div class="profile-sections">
                <!-- Profile sections will be dynamically updated -->
                <div class="profile-section" id="profileContent">
                    <p style="color: var(--gray-500); text-align: center; padding: 2rem 0;">
                        Answer questions to build your profile
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Profile Float Widget -->
    <div class="mobile-profile-float" id="mobile-float" style="display: none;">
        <div class="float-content">
            <div class="float-avatar" id="float-avatar">?</div>
            <div class="float-info">
                <div class="float-name" id="float-name">Building your profile...</div>
                <div class="float-status" id="float-status">Answer questions to get started</div>
            </div>
        </div>
    </div>

    <!-- Mobile Profile Bottom Sheet -->
    <div class="mobile-profile-sheet" id="mobile-sheet" style="display: none;">
        <div class="sheet-handle" onclick="toggleMobileProfile()"></div>
        <div class="sheet-content">
            <div class="sheet-header">
                <div class="sheet-avatar" id="sheet-avatar">?</div>
                <div class="sheet-info">
                    <div class="sheet-name" id="sheet-name">Building your profile...</div>
                    <div class="sheet-status" id="sheet-status">Answer questions to get started</div>
                </div>
            </div>
            <div class="sheet-body" id="mobile-profile-content">
                <p style="color: rgba(255, 255, 255, 0.6); text-align: center; padding: 2rem 0;">
                    Answer questions to build your profile
                </p>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="/digitalvalidation/assets/js/products.js"></script>
    <script src="/digitalvalidation/assets/js/questionnaire.js"></script>
</body>
</html>